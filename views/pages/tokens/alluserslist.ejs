<%- console.log("=============INSIDE THE ALL USERS===========>>>>>>>>>>>>>>") %>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
    .fa-4x {
        font-size: 2em;
    }

    .tooltip-color a {
        color: #3c3454;
    }

    .tooltip-color #delete {
        color: #f15d5d;
    }

    .tooltip-color #view {
        color: orange;
    }

    .tooltip-color #message {
        color: #4fc3f7;
    }

    .tooltip-color #chat {
        color: #60a960;
    }
</style>

<!-- ============================================================== -->
<!-- Start Page Content -->
<!-- ============================================================== -->
<!-- basic table -->
<div class="row">
    <div class="col-12">
        <div class="material-card card">
            <div class="card-body">
                <h4 class="card-title">Tokens Purchase List</h4>

                <div class="table-responsive">
                    <table id="zero_config" class="table table-striped border">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Device </th>
                                <th>Gender </th>
                                <th>Account Status</th>
                                <th>Token Type</th>
                                <th>Price</th>
                                <th>Purchased On </th>
                            </tr>
                        </thead>
                        <tbody>
                            <%  i = 1; %>
                            <%  list.forEach(function(data){ %>
                            <% if((data.TokenForUser.profileOfUser != null) && (data.TokenForUser != null) ) { %>
                            <tr>
                                <td><%= i++  %></td>
                                <td>
                                    <% if(data.TokenForUser.profileOfUser == null) { %>
                                -
                                <% } else { %>
                                <% if(data.TokenForUser.profileOfUser.name == null) { %>
                                <p>-</p>
                                <% } else {  %>
                                <span>
                                    <%= data.TokenForUser.profileOfUser.name %>
                                </span><br/>
                                <!-- <span class="email">
                               <%= data.TokenForUser.email %>    
                                </span> -->
                                <% } %>
                                <% } %>
                                </td>
                                <td>
                                    <%= data.TokenForUser.email %> 
                                </td>
                             
                                <td><%if(data.TokenForUser.loginForUser == null) { %>
                                    
                                    <p>-</p>

                                     <%}else {%>

                                        <%= data.TokenForUser.loginForUser.deviceType %>
                                     <%}%>
                                    
                                    
                                    
                                    </td>
                                <td>
                                    <%= data.TokenForUser.profileOfUser.gender %> 
                                </td>

                                <td> <% if(data.TokenForUser.statusByadmin == 'Deactivate') {  %>
                                    <p style="color: #b30909;font-weight: bolder;">Banned</p>
                                    <% } else if(data.TokenForUser.isVerified == 'Yes') { %>
                                    <p style="color: #1c7905;font-weight: bolder;">Verified</p>
                                    <% } else if(data.TokenForUser.isRejected == 1) {%>
                                    <p style="color: #b30909;font-weight: bolder;">Rejected</p>
                                    <% }  else if(data.TokenForUser.isVerified == 'No') { %>
                                    <p style="color: #0490bb;font-weight: bolder;">Pending</p>
                                    <% } %>
                                </td>

                                <td>
                                    <% if(data.tokenType != null) {  
                              %>

                                    <%= data.tokenType %>

                                    <%  }  else{ }%>
                                </td>

                                <td>
                                    <% if(data.price == null){} else { %>
                                    <%= data.price %>
                                    <% } %>
                                </td>
                                <td>
                                        <% if(data.createdAt != null) {%>

                                            <% 
                                            var myTimezone = "America/New_York";
                                            var myDatetimeFormat= "MM-DD-YY hh:mm:ss a";
                                            var myDatetimeString = moment(data.createdAt).tz(myTimezone).format(myDatetimeFormat); %>
                                            <%= myDatetimeString %>



                                        <!-- <%  
                                        var d = data.createdAt;
                                        var date = d.getDate();
                                        var newDate = '';
                                        if(date.toString().length == 1) {
                                            newDate = '0'+date;
                                        } else {
                                            newDate = date;
                                        }
                                        var month = d.getMonth() + 1; 
                                        var year = d.getFullYear();
                                        var h = d.getHours();
                                        var m = d.getMinutes();
                                        var dateStr1 = newDate + "-" + month + "-" + year ;
                                    %>
                                    <%= dateStr1 %> -->
                                    <% } else {%>
                                    -
                                    <% } %>
                                </td>

                            </tr>
                            <% } %>
                            <% }) %>
                        </tbody>
                        <tfoot>
                            <tr>
                                <th>#</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Device </th>
                                <th>Gender </th>
                                <th>Account Status</th>
                                <th>Token Type</th>
                                <th>Price</th>
                                <th>Purchased On </th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script type="text/javascript">

    $(document).ready(function () {
        $('[tool-tip-toggle="tooltip-demo"]').tooltip({
            placement: 'bottom'
        });
    });
</script>